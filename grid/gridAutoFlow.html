<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CSS Grid Auto-Flow Visualization</title>
	<style>
		:root {
			/* Nord Dark Theme */
			--nord0: #2e3440;
			--nord1: #3b4252;
			--nord2: #434c5e;
			--nord3: #4c566a;
			--nord4: #d8dee9;
			--nord5: #e5e9f0;
			--nord6: #eceff4;
			--nord7: #8fbcbb;
			--nord8: #88c0d0;
			--nord9: #81a1c1;
			--nord10: #5e81ac;
			--nord11: #bf616a;
			--nord12: #d08770;
			--nord13: #ebcb8b;
			--nord14: #a3be8c;
			--nord15: #b48ead;
			
			/* Theme Variables */
			--bg-primary: var(--nord0);
			--bg-secondary: var(--nord1);
			--bg-tertiary: var(--nord2);
			--border-color: var(--nord3);
			--text-primary: var(--nord4);
			--text-secondary: var(--nord5);
			--text-bright: var(--nord6);
			--accent-primary: var(--nord8);
			--accent-secondary: var(--nord13);
			--accent-tertiary: var(--nord14);
		}
		
		[data-theme="light"] {
			/* Nord Light Theme */
			--bg-primary: #eceff4;
			--bg-secondary: #e5e9f0;
			--bg-tertiary: #d8dee9;
			--border-color: #4c566a;
			--text-primary: #2e3440;
			--text-secondary: #3b4252;
			--text-bright: #2e3440;
			--accent-primary: #5e81ac;
			--accent-secondary: #d08770;
			--accent-tertiary: #a3be8c;
		}
		
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Ubuntu Sans Mono', sans-serif !important;
		}
		
		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			background: var(--bg-primary);
			color: var(--text-primary);
			line-height: 1.6;
			padding: 20px;
			transition: background-color 0.3s ease, color 0.3s ease;
		}
		
		.container {
			max-width: 1500px;
			margin: 0 auto;
		}
		
		.header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 30px;
			flex-wrap: wrap;
			gap: 20px;
		}
		
		h1 {
			color: var(--accent-primary);
			font-size: 2.5em;
			margin: 0;
		}
		
		.theme-toggle {
			display: flex;
			align-items: center;
			gap: 10px;
			background: var(--bg-secondary);
			padding: 8px 16px;
			border-radius: 25px;
			border: 2px solid var(--border-color);
			cursor: pointer;
			transition: all 0.3s ease;
		}
		
		.theme-toggle:hover {
			background: var(--bg-tertiary);
			transform: translateY(-1px);
		}
		
		.theme-toggle-icon {
			font-size: 18px;
			transition: transform 0.3s ease;
		}
		
		.theme-toggle-text {
			font-size: 14px;
			font-weight: 600;
			color: var(--text-primary);
		}
		
		.section {
			margin-bottom: 40px;
			background: var(--bg-secondary);
			padding: 30px;
			border-radius: 10px;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
			border: 1px solid var(--border-color);
			transition: all 0.3s ease;
		}
		
		.section h2 {
			color: var(--accent-secondary);
			margin-bottom: 20px;
			font-size: 1.8em;
		}
		
		.controls {
			display: flex;
			flex-wrap: wrap;
			gap: 15px;
			margin-bottom: 30px;
			align-items: center;
		}
		
		.control-group {
			display: flex;
			flex-direction: column;
			gap: 5px;
		}
		
		label {
			color: var(--accent-tertiary);
			font-weight: 600;
			font-size: 0.9em;
		}
		
		select, input {
			padding: 8px 12px;
			border: 2px solid var(--border-color);
			border-radius: 5px;
			background: var(--bg-tertiary);
			color: var(--text-primary);
			font-size: 14px;
			font-family: 'Courier New', monospace;
			transition: all 0.3s ease;
			min-width: 160px;
		}
		
		select:focus, input:focus {
			outline: none;
			border-color: var(--accent-primary);
			box-shadow: 0 0 0 3px rgba(94, 129, 172, 0.1);
		}
		
		.demo-grid {
			display: grid;
			gap: 10px;
			background: var(--border-color);
			padding: 25px;
			border-radius: 8px;
			margin-bottom: 20px;
			transition: all 0.3s ease;
			min-height: 400px;
			overflow: visible;
			width: 100%;
		}
		
		.demo-item {
			background: var(--nord12);
			border: 2px solid var(--nord13);
			border-radius: 6px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 600;
			font-size: 14px;
			color: var(--nord0);
			transition: all 0.3s ease;
			min-height: 70px;
			position: relative;
			overflow: hidden;
		}
		
		.demo-item:nth-child(2n) {
			background: var(--nord14);
			border-color: var(--nord7);
		}
		
		.demo-item:nth-child(3n) {
			background: var(--nord15);
			border-color: var(--nord9);
		}
		
		.demo-item:nth-child(4n) {
			background: var(--nord11);
			border-color: var(--nord12);
		}
		
		.demo-item.positioned {
			background: var(--nord10);
			border-color: var(--nord8);
			position: relative;
		}
		
		.demo-item.positioned::after {
			content: "Positioned";
			position: absolute;
			bottom: 2px;
			right: 2px;
			font-size: 8px;
			background: var(--nord0);
			color: var(--nord6);
			padding: 1px 3px;
			border-radius: 2px;
		}
		
		.code-display {
			background: var(--bg-primary);
			border: 1px solid var(--border-color);
			border-radius: 5px;
			padding: 20px;
			font-family: 'Courier New', monospace;
			color: var(--accent-tertiary);
			font-size: 14px;
			overflow-x: auto;
			white-space: pre;
			transition: all 0.3s ease;
			line-height: 1.6;
		}
		
		.explanation {
			background: var(--bg-tertiary);
			border-left: 4px solid var(--accent-primary);
			padding: 15px;
			margin-top: 15px;
			border-radius: 0 5px 5px 0;
			transition: all 0.3s ease;
		}
		
		.explanation h3 {
			color: var(--accent-primary);
			margin-bottom: 10px;
		}
		
		.explanation ul {
			list-style: none;
			padding-left: 0;
		}
		
		.explanation li {
			margin-bottom: 8px;
			padding-left: 20px;
			position: relative;
		}
		
		.explanation li:before {
			content: "•";
			color: var(--accent-primary);
			font-weight: bold;
			position: absolute;
			left: 0;
			top: 0;
		}
		
		.preset-buttons {
			display: flex;
			gap: 10px;
			margin-bottom: 20px;
			flex-wrap: wrap;
		}
		
		.preset-btn {
			padding: 8px 16px;
			background: var(--nord10);
			color: var(--nord6);
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-size: 12px;
			transition: all 0.3s ease;
		}
		
		.preset-btn:hover {
			background: var(--nord9);
			transform: translateY(-1px);
		}
		
		.preset-btn.active {
			background: var(--accent-primary);
			color: var(--nord0);
		}
		
		.width-control {
			display: flex;
			align-items: center;
			gap: 10px;
			margin-bottom: 20px;
		}
		
		.width-slider {
			width: 350px;
		}
		
		.width-display {
			background: var(--bg-tertiary);
			padding: 5px 10px;
			border-radius: 3px;
			font-family: 'Courier New', monospace;
			font-size: 12px;
			color: var(--accent-primary);
			border: 1px solid var(--border-color);
			min-width: 80px;
		}
		
		.flow-indicator {
			display: flex;
			align-items: center;
			gap: 15px;
			margin-bottom: 20px;
			padding: 10px;
			background: var(--bg-tertiary);
			border-radius: 5px;
			border: 1px solid var(--border-color);
		}
		
		.flow-arrow {
			font-size: 24px;
			color: var(--accent-primary);
			transition: all 0.3s ease;
		}
		
		.flow-text {
			font-size: 14px;
			color: var(--text-primary);
			font-weight: 600;
		}
		
		.quad-comparison {
			display: grid;
			grid-template-columns: 1fr 1fr;
			grid-template-rows: 1fr 1fr;
			gap: 20px;
			margin-bottom: 20px;
		}
		
		.quad-item {
			background: var(--bg-tertiary);
			padding: 20px;
			border-radius: 8px;
			border: 1px solid var(--border-color);
			overflow: visible;
		}
		
		.quad-item h4 {
			color: var(--accent-secondary);
			margin-bottom: 10px;
			font-size: 1em;
		}
		
		.quad-demo {
			display: grid;
			gap: 6px;
			background: var(--border-color);
			padding: 15px;
			border-radius: 6px;
			margin-bottom: 10px;
			min-height: 200px;
			overflow: visible;
		}
		
		.quad-demo .demo-item {
			min-height: 40px;
			font-size: 11px;
		}
		
		@media (max-width: 768px) {
			.header {
				flex-direction: column;
				text-align: center;
			}
			
			.controls {
				flex-direction: column;
				align-items: stretch;
			}
			
			.control-group {
				width: 100%;
			}
			
			select, input {
				width: 100%;
			}
			
			.quad-comparison {
				grid-template-columns: 1fr;
				grid-template-rows: repeat(4, 1fr);
			}
		}
	</style>
</head>
<body>
<div class="container">
	<div class="header">
		<h1>Grid Auto-Flow Visualization</h1>
		<div class="theme-toggle" onclick="toggleTheme()">
			<span class="theme-toggle-icon" id="theme-icon">🌙</span>
			<span class="theme-toggle-text" id="theme-text">Dark Mode</span>
		</div>
	</div>
	
	<!-- Main Auto-Flow Section -->
	<div class="section">
		<h2>Grid Auto-Flow Interactive Demo</h2>
		
		<div class="preset-buttons">
			<button class="preset-btn active" onclick="setFlowPreset('row')" id="preset-row">Row</button>
			<button class="preset-btn" onclick="setFlowPreset('column')" id="preset-column">Column</button>
			<button class="preset-btn" onclick="setFlowPreset('row-dense')" id="preset-row-dense">Row Dense</button>
			<button class="preset-btn" onclick="setFlowPreset('column-dense')" id="preset-column-dense">Column Dense</button>
		</div>
		
		<div class="controls">
			<div class="control-group">
				<label for="autoFlow">grid-auto-flow:</label>
				<select id="autoFlow">
					<option value="row">row</option>
					<option value="column">column</option>
					<option value="row dense">row dense</option>
					<option value="column dense">column dense</option>
				</select>
			</div>
			<div class="control-group">
				<label for="gridColumns">grid-template-columns:</label>
				<input type="text" id="gridColumns" value="repeat(4, 1fr)" placeholder="repeat(4, 1fr)">
			</div>
			<div class="control-group">
				<label for="gridRows">grid-template-rows:</label>
				<input type="text" id="gridRows" value="repeat(3, 80px)" placeholder="repeat(3, 80px)">
			</div>
			<div class="control-group">
				<label for="itemCount">Items:</label>
				<input type="number" id="itemCount" value="10" min="5" max="20">
			</div>
		</div>
		
		<div class="width-control">
			<label for="containerWidth">Container Width:</label>
			<input type="range" id="containerWidth" class="width-slider" min="700" max="1400" value="1100">
			<span class="width-display" id="widthDisplay">1100px</span>
		</div>
		
		<div class="flow-indicator" id="flowIndicator">
			<span class="flow-arrow" id="flowArrow">→</span>
			<span class="flow-text" id="flowText">Items flow in ROW direction</span>
		</div>
		
		<div id="mainDemo" class="demo-grid">
			<!-- Items will be created by JavaScript -->
		</div>
		
		<div class="code-display" id="mainCode"></div>
		
		<div class="explanation">
			<h3>Understanding grid-auto-flow:</h3>
			<ul>
				<li><strong>row:</strong> Items flow horizontally, creating new rows as needed</li>
				<li><strong>column:</strong> Items flow vertically, creating new columns as needed</li>
				<li><strong>dense:</strong> Algorithm tries to fill gaps with later items</li>
				<li><strong>Auto-placement:</strong> Controls how items without explicit position are placed</li>
				<li><strong>Grid expansion:</strong> Determines direction of implicit track creation</li>
			</ul>
		</div>
	</div>
	
	<!-- Dense Algorithm Section -->
	<div class="section">
		<h2>Dense Algorithm Comparison</h2>
		
		<div class="quad-comparison">
			<div class="quad-item">
				<h4>Row (Normal)</h4>
				<div id="quadRow" class="quad-demo"></div>
				<div class="code-display" style="font-size: 10px; padding: 8px;">grid-auto-flow: row</div>
			</div>
			
			<div class="quad-item">
				<h4>Row Dense</h4>
				<div id="quadRowDense" class="quad-demo"></div>
				<div class="code-display" style="font-size: 10px; padding: 8px;">grid-auto-flow: row dense</div>
			</div>
			
			<div class="quad-item">
				<h4>Column (Normal)</h4>
				<div id="quadColumn" class="quad-demo"></div>
				<div class="code-display" style="font-size: 10px; padding: 8px;">grid-auto-flow: column</div>
			</div>
			
			<div class="quad-item">
				<h4>Column Dense</h4>
				<div id="quadColumnDense" class="quad-demo"></div>
				<div class="code-display" style="font-size: 10px; padding: 8px;">grid-auto-flow: column dense</div>
			</div>
		</div>
		
		<div class="explanation">
			<h3>Dense Algorithm Benefits:</h3>
			<ul>
				<li><strong>Gap filling:</strong> Places items in available spaces instead of maintaining order</li>
				<li><strong>Efficient use:</strong> Reduces empty grid cells for better space utilization</li>
				<li><strong>Visual density:</strong> Creates more compact layouts</li>
				<li><strong>Order sacrifice:</strong> Items may appear out of DOM order for better fit</li>
			</ul>
		</div>
	</div>
</div>

<script>
	// Theme management
	function toggleTheme() {
		const body = document.body;
		const themeIcon = document.getElementById('theme-icon');
		const themeText = document.getElementById('theme-text');
		
		const currentTheme = body.getAttribute('data-theme');
		
		if (currentTheme === 'light') {
			body.removeAttribute('data-theme');
			themeIcon.textContent = '🌙';
			themeText.textContent = 'Dark Mode';
			localStorage.setItem('theme', 'dark');
		} else {
			body.setAttribute('data-theme', 'light');
			themeIcon.textContent = '☀️';
			themeText.textContent = 'Light Mode';
			localStorage.setItem('theme', 'light');
		}
	}
	
	// Load saved theme
	function loadTheme() {
		const savedTheme = localStorage.getItem('theme');
		const body = document.body;
		const themeIcon = document.getElementById('theme-icon');
		const themeText = document.getElementById('theme-text');
		
		if (savedTheme === 'light') {
			body.setAttribute('data-theme', 'light');
			themeIcon.textContent = '☀️';
			themeText.textContent = 'Light Mode';
		} else {
			body.removeAttribute('data-theme');
			themeIcon.textContent = '🌙';
			themeText.textContent = 'Dark Mode';
		}
	}
	
	// Update flow indicator
	function updateFlowIndicator(flow) {
		const arrow = document.getElementById('flowArrow');
		const text = document.getElementById('flowText');
		
		switch(flow) {
			case 'row':
				arrow.textContent = '→';
				text.textContent = 'Items flow in ROW direction';
				break;
			case 'column':
				arrow.textContent = '↓';
				text.textContent = 'Items flow in COLUMN direction';
				break;
			case 'row dense':
				arrow.textContent = '→';
				text.textContent = 'Items flow in ROW direction with DENSE packing';
				break;
			case 'column dense':
				arrow.textContent = '↓';
				text.textContent = 'Items flow in COLUMN direction with DENSE packing';
				break;
		}
	}
	
	// Update active preset button
	function updateActivePreset(preset) {
		document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
		document.getElementById(`preset-${preset}`).classList.add('active');
	}
	
	// Update main demonstration
	function updateMainDemo() {
		const autoFlow = document.getElementById('autoFlow').value;
		const gridColumns = document.getElementById('gridColumns').value;
		const gridRows = document.getElementById('gridRows').value;
		const itemCount = parseInt(document.getElementById('itemCount').value);
		const containerWidth = document.getElementById('containerWidth').value;
		
		const demo = document.getElementById('mainDemo');
		const code = document.getElementById('mainCode');
		
		// Update container width
		demo.style.width = containerWidth + 'px';
		document.getElementById('widthDisplay').textContent = containerWidth + 'px';
		
		// Set grid properties
		demo.style.gridAutoFlow = autoFlow;
		demo.style.gridTemplateColumns = gridColumns;
		demo.style.gridTemplateRows = gridRows;
		
		// Update flow indicator
		updateFlowIndicator(autoFlow);
		
		// Clear and create items
		demo.innerHTML = '';
		for (let i = 1; i <= itemCount; i++) {
			const item = document.createElement('div');
			item.className = 'demo-item';
			item.textContent = `Item ${i}`;
			
			// Add some positioned items to demonstrate dense packing
			if (i === 3) {
				item.style.gridColumn = '2 / 4';
				item.className += ' positioned';
			} else if (i === 7) {
				item.style.gridRow = '2 / 4';
				item.className += ' positioned';
			}
			
			demo.appendChild(item);
		}
		
		// Update code display
		code.textContent = `.container {
  display: grid;
  grid-auto-flow: ${autoFlow};
  grid-template-columns: ${gridColumns};
  grid-template-rows: ${gridRows};
  gap: 10px;
  width: ${containerWidth}px;
}

.item-3 {
  grid-column: 2 / 4;
}

.item-7 {
  grid-row: 2 / 4;
}`;
	}
	
	// Update quad comparison
	function updateQuadComparison() {
		const demos = [
			{ id: 'quadRow', flow: 'row' },
			{ id: 'quadRowDense', flow: 'row dense' },
			{ id: 'quadColumn', flow: 'column' },
			{ id: 'quadColumnDense', flow: 'column dense' }
		];
		
		demos.forEach(({ id, flow }) => {
			const demo = document.getElementById(id);
			demo.style.gridAutoFlow = flow;
			demo.style.gridTemplateColumns = 'repeat(4, 1fr)';
			demo.style.gridTemplateRows = 'repeat(3, 50px)';
			
			// Clear and create items
			demo.innerHTML = '';
			for (let i = 1; i <= 9; i++) {
				const item = document.createElement('div');
				item.className = 'demo-item';
				item.textContent = `${i}`;
				
				// Add positioned items for dense demonstration
				if (i === 2) {
					item.style.gridColumn = '2 / 4';
					item.className += ' positioned';
				} else if (i === 5) {
					item.style.gridRow = '2 / 4';
					item.className += ' positioned';
				}
				
				demo.appendChild(item);
			}
		});
	}
	
	// Preset functions
	function setFlowPreset(preset) {
		const autoFlow = document.getElementById('autoFlow');
		const gridColumns = document.getElementById('gridColumns');
		const gridRows = document.getElementById('gridRows');
		const itemCount = document.getElementById('itemCount');
		const containerWidth = document.getElementById('containerWidth');
		
		updateActivePreset(preset);
		
		switch (preset) {
			case 'row':
				autoFlow.value = 'row';
				gridColumns.value = 'repeat(4, 1fr)';
				gridRows.value = 'repeat(3, 80px)';
				itemCount.value = '10';
				containerWidth.value = '1100';
				break;
			case 'column':
				autoFlow.value = 'column';
				gridColumns.value = 'repeat(3, 1fr)';
				gridRows.value = 'repeat(4, 70px)';
				itemCount.value = '12';
				containerWidth.value = '1000';
				break;
			case 'row-dense':
				autoFlow.value = 'row dense';
				gridColumns.value = 'repeat(4, 1fr)';
				gridRows.value = 'repeat(3, 80px)';
				itemCount.value = '11';
				containerWidth.value = '1100';
				break;
			case 'column-dense':
				autoFlow.value = 'column dense';
				gridColumns.value = 'repeat(3, 1fr)';
				gridRows.value = 'repeat(4, 70px)';
				itemCount.value = '13';
				containerWidth.value = '1000';
				break;
		}
		updateMainDemo();
	}
	
	// Event listeners
	document.getElementById('autoFlow').addEventListener('change', updateMainDemo);
	document.getElementById('gridColumns').addEventListener('input', updateMainDemo);
	document.getElementById('gridRows').addEventListener('input', updateMainDemo);
	document.getElementById('itemCount').addEventListener('input', updateMainDemo);
	document.getElementById('containerWidth').addEventListener('input', updateMainDemo);
	
	// Initialize on page load
	loadTheme();
	
	// Small delay to ensure DOM is ready
	setTimeout(() => {
		updateMainDemo();
		updateQuadComparison();
	}, 100);
</script>
</body>
</html>
